<div class="list">
    <collection-directory ng-repeat="item in list" directory="item" ng-if="item.type == 'directory'"></collection-directory>
    <collection-track ng-repeat="item in list" surrounding="list" track="item" ng-if="item.type == 'track'"></collection-track>
</div>